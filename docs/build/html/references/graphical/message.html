

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Message &mdash; PySigma 0.0.2 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Utils" href="../utils/index.html" />
    <link rel="prev" title="Graphical" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home" alt="Documentation Home"> PySigma
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Table of Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../introduction/intro.html">Introduction and Tutorials</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../introduction/getting-started.html">Getting Started</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">References</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../cognitive/index.html">Cognitive</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../cognitive/predicate.html">Predicate</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Graphical</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Message</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../utils/index.html">Utils</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../examples/index.html">Example Models</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">PySigma</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../index.html">References</a> &raquo;</li>
        
          <li><a href="index.html">Graphical</a> &raquo;</li>
        
      <li>Message</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/references/graphical/message.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="message">
<h1>Message<a class="headerlink" href="#message" title="Permalink to this headline">¶</a></h1>
<p>The Message class constitutes the most fundamental data structure in PySigma Graphical Architecture.</p>
<dl class="py class">
<dt id="pysigma.defs.Message">
<em class="property">class </em><code class="sig-prename descclassname">pysigma.defs.</code><code class="sig-name descname">Message</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">msg_type</span></em>, <em class="sig-param"><span class="n">batch_shape</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">param_shape</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">sample_shape</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">event_shape</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">parameter</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">particles</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">weight</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">log_densities</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pysigma/defs.html#Message"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysigma.defs.Message" title="Permalink to this definition">¶</a></dt>
<dd><p>Message to be propagated between nodes in the graphical architecture.</p>
<p>The <cite>Message</cite> class is the most fundamental data structure in PySigma that carries the knowledge of a batch of
distributions to be processed by downstream graphs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg_type</strong> ({<code class="docutils literal notranslate"><span class="pre">MessageType.Undefined</span></code>, <code class="docutils literal notranslate"><span class="pre">MessageType.Parameter</span></code>, <code class="docutils literal notranslate"><span class="pre">MessageType.Particles</span></code>, <code class="docutils literal notranslate"><span class="pre">MessageType.Both</span></code>}) – The type of this message.</p></li>
<li><p><strong>batch_shape</strong> (<em>torch.Size</em>) – The size of the batch dimensions. Must be a shape of <strong>at least</strong> length 1.</p></li>
<li><p><strong>param_shape</strong> (<em>torch.Size</em><em>, </em><em>optional</em>) – The size of the parameter dimension of <cite>parameter</cite>. Must specify if <cite>msg_type</cite> is <code class="docutils literal notranslate"><span class="pre">MessageType.Parameter</span></code>.
Must be a shape of <strong>exactly</strong> length 1.</p></li>
<li><p><strong>sample_shape</strong> (<em>torch.Size</em><em>, </em><em>optional</em>) – The size of the sample dimensions of each particle tensor in <cite>particles</cite> respectively in order. Must specify if
message type is <code class="docutils literal notranslate"><span class="pre">MessageType.Particle</span></code>. Must be a shape of <strong>at least</strong> length 1.</p></li>
<li><p><strong>event_shape</strong> (<em>torch.Size</em><em>, </em><em>optional</em>) – The size of the event dimensions of each particle tensor in <cite>particles</cite> respectively in order. Must specify if
message type is <code class="docutils literal notranslate"><span class="pre">MessageType.Particle</span></code>. Must be a shape of <strong>at least</strong> length 1.</p></li>
<li><p><strong>parameter</strong> (<em>torch.Tensor</em><em> or </em><em>an int of 0</em><em>, </em><em>optional</em>) – The parameter tensor to the batch of distributions this message is encoding. Must specify if the message type is
<code class="docutils literal notranslate"><span class="pre">MessageType.Parameter</span></code>. A torch.Tensor of shape <code class="docutils literal notranslate"><span class="pre">batch_shape</span> <span class="pre">+</span> <span class="pre">param_shape</span></code> if the parameters do not
represent the identity in the parameter vector space. Alternatively, can be an int of 0 to specify the identity.
Default to an int of 0.</p></li>
<li><p><strong>particles</strong> (<em>iterable of torch.Tensor</em><em>, </em><em>optional</em>) – The list of particles representing events w.r.t. each random variable respectively whose collective joint
distribution this message is encoding. Must specify if the message type is <code class="docutils literal notranslate"><span class="pre">MessageType.Particles</span></code>. The jth
entry of the iterable should have shape <code class="docutils literal notranslate"><span class="pre">sample_shape[j]</span> <span class="pre">+</span> <span class="pre">event_shape[j]</span></code>.</p></li>
<li><p><strong>weights</strong> (<em>torch.Tensor</em><em> or </em><em>an int of 1</em><em>, </em><em>optional</em>) – The importance weight tensor that, when multiplied with the exponential of the cross product of the log sampling
densities in <cite>log_densities</cite>, yields the pdf of each combined particle w.r.t. the target distribution that this
message is encoding. Must specify if the message type is <code class="docutils literal notranslate"><span class="pre">MessageType.Particles</span></code>. If the weights are
non-uniform, must be a <strong>positively valued</strong> tensor of shape <code class="docutils literal notranslate"><span class="pre">batch_shape</span> <span class="pre">+</span> <span class="pre">sample_shape</span></code>. The supplied tensor
will be normalized during initialization so that it sums to 1 across the subspace spanned by the sample
dimensions. Alternatively, can be an int of 1 to specify the uniform weight. Default to 1.</p></li>
<li><p><strong>log_densities</strong> (<em>iterable of torch.Tensor</em><em>, </em><em>optional</em>) – The jth entry in the iterable represents the log pdf of the jth particle in <cite>particles</cite> w.r.t. the (marginal)
sampling distribution from which the jth particle was originally drawn. Must specify if the message type is
<code class="docutils literal notranslate"><span class="pre">MessageType.Particles</span></code>. The jth entry must have shape <code class="docutils literal notranslate"><span class="pre">sample_shape[j]</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Other keyword arguments that specify special attributes of the message. Will be deep copied when the message is
cloned.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt id="pysigma.defs.Message.type">
<code class="sig-name descname">type</code><a class="headerlink" href="#pysigma.defs.Message.type" title="Permalink to this definition">¶</a></dt>
<dd><p>Message type.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>{<code class="docutils literal notranslate"><span class="pre">MessageType.Undefined</span></code>, <code class="docutils literal notranslate"><span class="pre">MessageType.Parameter</span></code>, <code class="docutils literal notranslate"><span class="pre">MessageType.Particles</span></code>, <code class="docutils literal notranslate"><span class="pre">MessageType.Both</span></code>}</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pysigma.defs.Message.b_shape">
<code class="sig-name descname">b_shape</code><a class="headerlink" href="#pysigma.defs.Message.b_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Batch shape.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>torch.Size</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pysigma.defs.Message.p_shape">
<code class="sig-name descname">p_shape</code><a class="headerlink" href="#pysigma.defs.Message.p_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameter shape.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>torch.Size</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pysigma.defs.Message.s_shape">
<code class="sig-name descname">s_shape</code><a class="headerlink" href="#pysigma.defs.Message.s_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample shape.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>torch.Size</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pysigma.defs.Message.e_shape">
<code class="sig-name descname">e_shape</code><a class="headerlink" href="#pysigma.defs.Message.e_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Event shape.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>torch.Size</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pysigma.defs.Message.parameter">
<code class="sig-name descname">parameter</code><a class="headerlink" href="#pysigma.defs.Message.parameter" title="Permalink to this definition">¶</a></dt>
<dd><p>Parameter tensor</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>torch.Tensor or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pysigma.defs.Message.particles">
<code class="sig-name descname">particles</code><a class="headerlink" href="#pysigma.defs.Message.particles" title="Permalink to this definition">¶</a></dt>
<dd><p>List of particle value tensors</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list of torch.Tensor or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pysigma.defs.Message.weight">
<code class="sig-name descname">weight</code><a class="headerlink" href="#pysigma.defs.Message.weight" title="Permalink to this definition">¶</a></dt>
<dd><p>Particle weight tensor</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>torch.Tensor or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pysigma.defs.Message.log_densities">
<code class="sig-name descname">log_densities</code><a class="headerlink" href="#pysigma.defs.Message.log_densities" title="Permalink to this definition">¶</a></dt>
<dd><p>List of particles log sampling tensors</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>list of torch.Tensor or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="pysigma.defs.Message.attr">
<code class="sig-name descname">attr</code><a class="headerlink" href="#pysigma.defs.Message.attr" title="Permalink to this definition">¶</a></dt>
<dd><p>Miscellaneous optional attributes, specified by <a href="#id1"><span class="problematic" id="id2">**</span></a>kwargs in the constructor.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Notes</p>
<p>In PySigma Graphical Architecture, a message can represent not only a single joint distribution w.r.t. multiple
random variables, but a <em>batch</em> of such joint distribution instances. The distribution instances in the batch are
mutually independent, but may or may not be identically distributed. This batch is managed and indexed by the batch
dimensions, specified by <cite>batch_shape</cite>.</p>
<p>Depending on how each of the distribution instance is represented, a message can be roughly categorized into two
types: <em>Parameter</em> type or <em>Particles</em> type.</p>
<ol class="arabic">
<li><p><em>Parameter</em> type: a message of this type encodes a batch of distributions by holding their parameter tensors. The
semantics of the parameters depends on the context, e.g. whether they are natural parameters to exponential
family distributions or conventional parameters to PyTorch distribution class. For the latter one, the semantics
may even be distribution class dependent.</p>
<p>Specifying the <cite>parameter</cite> argument only in the constructor is sufficient in terms of the message contents.</p>
</li>
<li><p><em>Particles</em> type: a message of this type encodes a batch of distributions by a particle list, with the particles
being importantly weighted to correctly reflect their pdf w.r.t. to each of the target distribution in the
distribution batch. In other words, conceptually, each entry in the particle list is a 3-tuple:
<code class="docutils literal notranslate"><span class="pre">(x,</span> <span class="pre">w_x,</span> <span class="pre">log_p(x))</span></code> where <code class="docutils literal notranslate"><span class="pre">x</span></code> is the event value, <code class="docutils literal notranslate"><span class="pre">log_p(x)</span></code> is the log pdf of <code class="docutils literal notranslate"><span class="pre">x</span></code> w.r.t. its sampling
distribution <code class="docutils literal notranslate"><span class="pre">P(x)</span></code>, and <code class="docutils literal notranslate"><span class="pre">w_x</span></code> is defined as the ratio of <code class="docutils literal notranslate"><span class="pre">Q(x)</span></code>, the target distribution pdf, over
<code class="docutils literal notranslate"><span class="pre">P(x)</span></code>. Therefore, the target pdf of <code class="docutils literal notranslate"><span class="pre">x</span></code> can be recovered by:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Q</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">w_x</span> <span class="o">*</span> <span class="n">exp</span><span class="p">(</span><span class="n">log_p</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
<span class="n">log</span> <span class="n">Q</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">=</span> <span class="n">log</span><span class="p">(</span><span class="n">w_X</span><span class="p">)</span> <span class="o">+</span> <span class="n">log_p</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that a message uses a single list of particles to encode and approximate each and every distribution in the
batch. In other words, the set of event values used to represent each distribution instance is the same, but the
importance weights assigned to each event value by different distribution instances are different. This is the
reason that <cite>weight</cite> tensor should include batch dimensions, whereas particle tensors in <cite>particles</cite> and log
sampling density tensors in <cite>log_densities</cite> should not.</p>
<p>When there are multiple random variables, each distribution instance in the batch is a joint distribution
over all random variables. In this case, each of the entry in the provided <cite>particles</cite> are events w.r.t. each
random variable <em>only</em>. To represent the joint distributions, a list of <em>joint</em> particles will be formed by
concatenating the event tensors in <cite>particles</cite> combinatorially, or so to speak, by taking the tensor product.
Accordingly, the log sampling density vectors in <cite>log_densities</cite> will be taken cross product to form a higher
dimensional sampling density tensors. In this way, the joint particles are effectively arranged in a lattice in
the joint event space, therefore easing the marginalization process because we can simply <em>summarize</em> over one
dimension to achieve the effect of marginalizing over the corresponding random variable.</p>
<p>To support the above semantics and computations, all of the arguments <cite>particles</cite>, <cite>weight</cite>, and <cite>log_densities</cite>
must be specified in the constructor.</p>
</li>
</ol>
<p>A message can encode both type of contents, in which case the message type is <code class="docutils literal notranslate"><span class="pre">MessageType.Both</span></code>.</p>
<p id="message-arithmetic-structures-notes">Both types of messages are assumed to reside in certain vector space, and thus the appropriate arithmetic
operations – <em>Addition</em> and <em>Scalar Multiplication</em> – are defined and implemented:</p>
<ul>
<li><p>For Parameter messages,</p>
<blockquote>
<div><ul class="simple">
<li><p><em>Addition</em> operation is defined as arithmetic addition on the parameter tensors.</p></li>
<li><p><em>Scalar multiplication</em> is defined as arithmetic scalar multiplication with the parameter tensors.</p></li>
<li><p>0 is treated as the identity element.</p></li>
</ul>
</div></blockquote>
</li>
<li><p>For Particles messages:</p>
<blockquote>
<div><ul class="simple">
<li><p>The following two operations are defined as operations on the particle weights, and meaningful only
for Particle messages that share the same particle values and the same sampling log densities of the
particles. In addition, results from these two operations are normalized so that the weight tensor
sums to 1 across the sample dimensions.</p></li>
<li><p><em>Addition</em> operation is defined as element-wise multiplication of particle weights tensors, up to a
normalization factor.</p></li>
<li><p><em>Scalar Multiplication</em> is defined as taking elements of the particle weights tensor to the power
of the scalar, up to a normalization factor.</p></li>
<li><p>1 is treated as the identity element for the operations.</p></li>
<li><p>Note that it is provably correct that the weighs with above operations form a vector space. The proof idea is
to consider the log quotient space over one dimension, which reduces to standard real space with one less
dimension.</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<p>Accordingly, the ‘+’ and ‘*’ operator are overloaded according the to the specifications above.</p>
<dl class="py method">
<dt id="pysigma.defs.Message.__add__">
<code class="sig-name descname">__add__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pysigma/defs.html#Message.__add__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysigma.defs.Message.__add__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloads the addition operation ‘+’</p>
<p>Implements the semantics of addition operation as in vector spaces, but the computational operations used to
implement the semantics are different for different message contents. See
<a class="reference internal" href="#message-arithmetic-structures-notes"><span class="std std-ref">Message class notes regarding arithmetic structures</span></a>
for more details.</p>
<p>Only messages with compatible types can be added. This means a <code class="docutils literal notranslate"><span class="pre">MessageType.Parameter</span></code> type message can only
be added with one of type <code class="docutils literal notranslate"><span class="pre">MessageType.Parameter</span></code> or <code class="docutils literal notranslate"><span class="pre">MessageType.Both</span></code>, and similarly a
<code class="docutils literal notranslate"><span class="pre">MessageType.Particles</span></code> type message can only be added with one of type <code class="docutils literal notranslate"><span class="pre">MessageType.Particles</span></code> or
<code class="docutils literal notranslate"><span class="pre">MessageType.Both</span></code>. <code class="docutils literal notranslate"><span class="pre">MessageType.Both</span></code> type message can be added with any other type except
<code class="docutils literal notranslate"><span class="pre">MessageType.Undefined</span></code>, and in any case a <code class="docutils literal notranslate"><span class="pre">MessageType.Undefined</span></code> type message cannot be added.</p>
<p>There are more restrictions for <code class="docutils literal notranslate"><span class="pre">MessageType.Particles</span></code> type messages. Messages of such type can only be
added together if their <code class="docutils literal notranslate"><span class="pre">particles</span></code> and <code class="docutils literal notranslate"><span class="pre">log_densities</span></code> fields are equal.</p>
<p>All contents are first cloned before taking the operations and returning the result.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>other</strong> (<a class="reference internal" href="#pysigma.defs.Message" title="pysigma.defs.Message"><em>Message</em></a>) – The other message instance to be added together with <cite>self</cite>. It should have a compatible message type with
<cite>self</cite>.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The new message as a result of the summation.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#pysigma.defs.Message" title="pysigma.defs.Message">Message</a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>AssertionError</strong> – If <cite>other</cite>’s message type is incompatible with <cite>self</cite>.</p></li>
<li><p><strong>AssertionError</strong> – If either <cite>self</cite> or <cite>other</cite>’s message type is <code class="docutils literal notranslate"><span class="pre">MessageType.Undefined</span></code>.</p></li>
<li><p><strong>AssertionError</strong> – If contents of <cite>self</cite> and <cite>other</cite> have conflicting shapes.</p></li>
<li><p><strong>AssertionError</strong> – If <cite>self</cite> and <cite>other</cite> have particles message contents to be added, but their particle values do not match,
    or their log sampling density tensors do not match.</p></li>
</ul>
</dd>
</dl>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Note that all auxiliary attributes stored in <code class="docutils literal notranslate"><span class="pre">attr</span></code>, supplied via additional keyword arguments in the Message
class constructor, of both <cite>self</cite> and <cite>other</cite> will be discarded in the returning message.</p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pysigma.defs.Message.__iadd__">
<code class="sig-name descname">__iadd__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pysigma/defs.html#Message.__iadd__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysigma.defs.Message.__iadd__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloads self-addition operator ‘+=’</p>
<div class="admonition seealso">
<p class="admonition-title">See also</p>
<p><a class="reference internal" href="#pysigma.defs.Message.__add__" title="pysigma.defs.Message.__add__"><code class="xref py py-meth docutils literal notranslate"><span class="pre">__add__()</span></code></a></p>
</div>
</dd></dl>

<dl class="py method">
<dt id="pysigma.defs.Message.__imul__">
<code class="sig-name descname">__imul__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pysigma/defs.html#Message.__imul__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysigma.defs.Message.__imul__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloading self-multiplication operator ‘<a href="#id3"><span class="problematic" id="id4">*</span></a>=’</p>
</dd></dl>

<dl class="py method">
<dt id="pysigma.defs.Message.__mul__">
<code class="sig-name descname">__mul__</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pysigma/defs.html#Message.__mul__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysigma.defs.Message.__mul__" title="Permalink to this definition">¶</a></dt>
<dd><p>Overloading multiplication operator ‘*’. Implements scalar multiplication semantics.</p>
<dl class="simple">
<dt>The scalar can be of type int, float, or torch.Tensor. If it is a torch.Tensor, can be a singleton tensor</dt><dd><p>representing a single scalar, or a tensor of shape batch_shape representing a batched scalars.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysigma.defs.Message.batch_broaden">
<code class="sig-name descname">batch_broaden</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dim</span></em>, <em class="sig-param"><span class="n">length</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pysigma/defs.html#Message.batch_broaden"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysigma.defs.Message.batch_broaden" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Returns a new message that is a broadened version of the input tensor along the dimension specified by</dt><dd><p>‘dim’, with identity values filled in [dim_size + 1: length] along the dimension ‘dim’ of the original
message. In other words, this method is concatenating an identity message to the original message along
the dimension ‘dim’ so that the resulting dimension size is ‘length’.</p>
</dd>
<dt>For Parameter type message, the identity values are 0. For Particles type message, the identity values are 1</dt><dd><p>up to a normalization factor.</p>
</dd>
</dl>
<p>contiguous() will be called before return to make sure the resulting content tensors are contiguous</p>
<dl class="simple">
<dt>This method is the inverted version of batch_narrow(). There is no direct counterpart to this method in</dt><dd><p>PyTorch.</p>
</dd>
<dt>:param dim      an int. Specifying a dimension of the original message. Should be in range</dt><dd><p>[-len(batch_shape), len(batch_shape) - 1]</p>
</dd>
<dt>:param length   an int. Specifying the length of the message chunk to select. Should be greater than the</dt><dd><p>current size of dimension ‘dim’</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysigma.defs.Message.batch_diag_embed">
<code class="sig-name descname">batch_diag_embed</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">diag_dim</span><span class="o">=</span><span class="default_value">- 1</span></em>, <em class="sig-param"><span class="n">target_dim1</span><span class="o">=</span><span class="default_value">- 2</span></em>, <em class="sig-param"><span class="n">target_dim2</span><span class="o">=</span><span class="default_value">- 1</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pysigma/defs.html#Message.batch_diag_embed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysigma.defs.Message.batch_diag_embed" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Creates a message whose diagonals of certain 2D planes (dimensions specified by ‘target_dim1’ and</dt><dd><p>‘target_dim2’) are filled by vectors of self (dimension specified by ‘diag_dim’). The last dimension of
self is chosen by default as the diagonal entries to be filled, and the last two dimensions of the new
message are chosen by default as the 2D planes where the diagonal entries will be filled in.</p>
</dd>
<dt>The 2D planes will be shaped as square matrices, with the size of each dimension matches the size of the</dt><dd><p>diag_dim in self.</p>
</dd>
</dl>
<p>The length of returned message’s batch shape will be the length of original message’s batch shape plus 1.</p>
<dl class="simple">
<dt>For slots not on the diagonal of the resulting message, they will be filled with identity values. For</dt><dd><p>Parameter type message, the identity value is 0 w.r.t. the parameter tensor, and for Particles type
message, the identity value is 1 w.r.t. the weights tensor up to a normalization factor.</p>
</dd>
</dl>
<p>contiguous() will be called before return to make sure the resulting content tensors are contiguous</p>
<p>This method is a mimic of torch.diag_embed(), with offset default to 0 plus an additional diag_dim argument.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>diag_dim</strong> – an int. Specifying a dimension of the original message. Should be in range
[-len(batch_shape), len(batch_shape) - 1]</p></li>
<li><p><strong>target_dim1</strong> – an int. Specifying a dimension of the returned message. Should be in range
[-len(batch_shape) - 1, len(batch_shape)]</p></li>
<li><p><strong>target_dim2</strong> – Same as ‘target_dim1’</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysigma.defs.Message.batch_diagonal">
<code class="sig-name descname">batch_diagonal</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dim1</span><span class="o">=</span><span class="default_value">0</span></em>, <em class="sig-param"><span class="n">dim2</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pysigma/defs.html#Message.batch_diagonal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysigma.defs.Message.batch_diagonal" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Returns a partial view of self with the its diagonal elements with respect to ‘dim1’ and ‘dim2’ appended as</dt><dd><p>a dimension at the end of the shape.</p>
</dd>
</dl>
<p>dim values within the range [-len(batch_shape), len(batch_shape) - 1] can be used.
Note that ‘dim1’ and ‘dim2’ are relative to the batch dimension. The appended dimension will be placed as</p>
<blockquote>
<div><p>the last batch dimension, but before any event or param dimension.</p>
</div></blockquote>
<p>contiguous() will be called before return to make sure the resulting content tensors are contiguous</p>
<p>This method is a mimic of torch.diagonal(), with offset default to 0</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dim1</strong> – an int. Should be in range [-len(batch_shape), len(batch_shape) - 1]</p>
</dd>
</dl>
<p>:param dim2.    Same as ‘dim1’</p>
</dd></dl>

<dl class="py method">
<dt id="pysigma.defs.Message.batch_expand">
<code class="sig-name descname">batch_expand</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">new_batch_shape</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pysigma/defs.html#Message.batch_expand"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysigma.defs.Message.batch_expand" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new view of the self message with singleton batch dimensions expanded to a larger size.</p>
<p>Passing a -1 as the size for a dimension means not changing the size of that dimension.</p>
<dl class="simple">
<dt>Expanding a message would not allocate new memory for the tensor contents, but create a new view on the</dt><dd><p>existing tensor. Any dimension of size 1 can be expanded to an arbitrary value without allocating new
memory.</p>
</dd>
<dt>Note that more than one element of an expanded message may refer to a single memory location. As a result,</dt><dd><p>in-place operations may result in incorrect behavior. Clone first before needing to write in-place to
the message tensor contents.</p>
</dd>
</dl>
<p>This method is a mimic of torch.expand()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_batch_shape</strong> – Iterable of python ints, or torch.Size. The target expanded batch shape. Must
have the same length as self’s current batch shape.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysigma.defs.Message.batch_flatten">
<code class="sig-name descname">batch_flatten</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dims</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pysigma/defs.html#Message.batch_flatten"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysigma.defs.Message.batch_flatten" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Flattens the set of batch dimensions specified by ‘dims’ and append the flattened dimension as the last</dt><dd><p>dimension. If ‘dims’ is None, will flatten all batch dimensions into a single dimension.</p>
</dd>
</dl>
<p>contiguous() will be called before return to make sure the resulting content tensors are contiguous</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dims</strong> – None or an Iterable of ints. Specifying the set of dimensions to be flattened. If given,
each value should be in range   [-len(batch_shape), len(batch_shape) - 1]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysigma.defs.Message.batch_index_put">
<code class="sig-name descname">batch_index_put</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dim</span></em>, <em class="sig-param"><span class="n">index</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pysigma/defs.html#Message.batch_index_put"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysigma.defs.Message.batch_index_put" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Returns a new Message whose entries along the dimension ‘dim’ are slices from self message and are indexed</dt><dd><dl class="simple">
<dt>by ‘index’. Effectively, along the dimension ‘dim’:</dt><dd><p>result_msg[…, index[i], …] = val[i]</p>
</dd>
</dl>
</dd>
<dt>For slices in the new message not referenced by ‘index’, they will be filled with identity values. For</dt><dd><p>Parameter type message, the identity value is 0; for Particles type message, the identity value is 1,
up to a normalization factor.</p>
</dd>
<dt>This method is the inverted version of batch_index_select(). There is no direct counterpart to this method</dt><dd><p>in PyTorch.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dim</strong> – an int. Specifying a dimension of the message. Should be in range
[-len(batch_shape), len(batch_shape) - 1]</p></li>
<li><p><strong>index</strong> – a LongTensor. Specifying the indices along the specified dimension of the returned message.
Entries must be non-negative.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysigma.defs.Message.batch_index_select">
<code class="sig-name descname">batch_index_select</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dim</span></em>, <em class="sig-param"><span class="n">index</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pysigma/defs.html#Message.batch_index_select"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysigma.defs.Message.batch_index_select" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Returns a new Message which indexes the input message along batch dimension dim using the entries in index</dt><dd><p>which is a LongTensor.</p>
</dd>
<dt>A ‘dim’ value within the range [-len(batch_shape), len(batch_shape) - 1] can be used. Note that ‘dim’</dt><dd><p>is relative to the batch dimension only.</p>
</dd>
</dl>
<p>This method is a mimic of batch_index_select()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dim</strong> – an int. The dimension along which entries will be selected according to ‘index’</p></li>
<li><p><strong>index</strong> – torch.LongTensor. The index of entries along ‘dim’ to be selected</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysigma.defs.Message.batch_narrow">
<code class="sig-name descname">batch_narrow</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dim</span></em>, <em class="sig-param"><span class="n">length</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pysigma/defs.html#Message.batch_narrow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysigma.defs.Message.batch_narrow" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Returns a new message that is a narrowed version of input tensor along the dimension specified by ‘dim’.</dt><dd><p>Effectively, this method is selecting the chunk spanning [:length] along the dimension ‘dim’ of the
original message. The returned message and input message share the same underlying storage.</p>
</dd>
</dl>
<p>contiguous() will be called before return to make sure the resulting content tensors are contiguous</p>
<p>This method is a mimic of torch.narrow(), with start default to 0.</p>
<dl class="simple">
<dt>:param dim      an int. Specifying a dimension of the original message. Should be in range</dt><dd><p>[-len(batch_shape), len(batch_shape) - 1]</p>
</dd>
<dt>:param length   an int. Specifying the length of the message chunk to select. Should be in range</dt><dd><p>[0, dim_size - 1]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysigma.defs.Message.batch_permute">
<code class="sig-name descname">batch_permute</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">target_dims</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pysigma/defs.html#Message.batch_permute"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysigma.defs.Message.batch_permute" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Returns a permuted message whose tensor attributes are permuted from the original ones w.r.t. ‘target_dims’</dt><dd><p>in the batch dimensions.</p>
</dd>
<dt>Note that target_dims is relative to the batch dimension. Its values should be within the range</dt><dd><p>[-len(batch_shape), len(batch_shape) - 1]</p>
</dd>
</dl>
<p>contiguous() will be called before return to make sure the resulting content tensors are contiguous</p>
<p>This method is a mimic of torch.Tensor.permute()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>target_dims</strong> – list of ints. The desired ordering batch dimensions</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysigma.defs.Message.batch_reshape">
<code class="sig-name descname">batch_reshape</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">new_batch_shape</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pysigma/defs.html#Message.batch_reshape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysigma.defs.Message.batch_reshape" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a message with the same data as self, but with the specified ‘new_batch_shape’.</p>
<p>This method is a mimic of torch.reshape()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>new_batch_shape</strong> – Iterable of python ints, or torch.Size. The target batch shape.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysigma.defs.Message.batch_summarize">
<code class="sig-name descname">batch_summarize</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dim</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pysigma/defs.html#Message.batch_summarize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysigma.defs.Message.batch_summarize" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Implements the default Sum-Product summarization semantics. Summarizes over the batch dimension specified by</dt><dd><p>‘dim’. Returns a message with one less dimension.</p>
</dd>
<dt>For Parameter message, the summarization is realized by taking the mean value of the batched parameters</dt><dd><p>across dimension ‘dim’. For particles message, this is realized by taking joint addition defined for
particle weights, a.k.a. factor product.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dim</strong> – an int. Specifying a dimension of the original message. Should be in range
[-len(batch_shape), len(batch_shape) - 1]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysigma.defs.Message.batch_unsqueeze">
<code class="sig-name descname">batch_unsqueeze</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">dim</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pysigma/defs.html#Message.batch_unsqueeze"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysigma.defs.Message.batch_unsqueeze" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Returns a new message with a dimension of size one inserted at the specified batch dimension, similar to</dt><dd><p>torch.unsqueeze().</p>
</dd>
<dt>A ‘dim’ value within the range [-len(batch_shape) - 1, len(batch_shape) + 1] can be used. Note that ‘dim’</dt><dd><p>is relative to the batch dimension only.</p>
</dd>
</dl>
<p>This method is a mimic of torch.unsqueeze()</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dim</strong> – an int. The place where the new dimension of size one will be inserted at.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysigma.defs.Message.clone">
<code class="sig-name descname">clone</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pysigma/defs.html#Message.clone"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysigma.defs.Message.clone" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Return a cloned message from self. Guarantees that every content is deep-copied. Tensors will be cloned and</dt><dd><p>dictionaries will be deep-copied.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysigma.defs.Message.event_transform">
<code class="sig-name descname">event_transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">trans</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pysigma/defs.html#Message.event_transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysigma.defs.Message.event_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a transformation on the event values. Return the transformed message.</p>
<p>Message contents will be cloned.</p>
<dl class="simple">
<dt>For particles:</dt><dd><ul class="simple">
<li><p>Apply the transformation directly on the particle values</p></li>
<li><dl class="simple">
<dt>Log sampling densities will be adjusted by adding the log abs determinant of the Jacobian of the</dt><dd><dl class="simple">
<dt>transformation:</dt><dd><p>log P(Y) = log P(X) + log <a href="#id5"><span class="problematic" id="id6">|det (dX / dY)|</span></a></p>
</dd>
</dl>
</dd>
</dl>
</li>
<li><p>Weights are kept the same, but the tensor will be cloned.</p></li>
</ul>
</dd>
<dt>For parameters:</dt><dd><ul class="simple">
<li><p>Raise an alert if ‘dist_class’ attribute is missing in self.attr</p></li>
<li><p>Query DistributionServer to obtained the transformed parameter.</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>trans</strong> – torch.distributions.transforms.Transform. The transformation functor.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysigma.defs.Message.event_translate_2pred">
<em class="property">static </em><code class="sig-name descname">event_translate_2pred</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">msg</span></em>, <em class="sig-param"><span class="n">translator</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pysigma/defs.html#Message.event_translate_2pred"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysigma.defs.Message.event_translate_2pred" title="Permalink to this definition">¶</a></dt>
<dd><p>Translate msg’s particles from PyTorch format to Cognitive format, using the given translator.</p>
<dl class="simple">
<dt>If there are multiple r.v., will return a tuple of translated messages, elements corresponding to each r.v.</dt><dd><p>specified in the translator. In this case, the particle weights and log sampling densities will be
copied for each split event particles to form new messages.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> – a Message instance. The message to be translated.</p></li>
<li><p><strong>translator</strong> – a KnowledgeTranslator instance.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysigma.defs.Message.event_translate_2torch">
<em class="property">static </em><code class="sig-name descname">event_translate_2torch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">msgs</span></em>, <em class="sig-param"><span class="n">translator</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pysigma/defs.html#Message.event_translate_2torch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysigma.defs.Message.event_translate_2torch" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Translate provided iterable of messages’ particles from Cognitive format to form a message with particles in</dt><dd><p>PyTorch format, using the given translator.</p>
</dd>
<dt>The message order in the given iterable should conform to the random variable order specified in the</dt><dd><p>translator.</p>
</dd>
</dl>
<p>Return a single message.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msgs</strong> – an iterable of Message instances. Order should be compatible with the order of random
variables specified in the given translator.</p></li>
<li><p><strong>translator</strong> – a KnowledgeTranslator instance.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysigma.defs.Message.reduce_type">
<code class="sig-name descname">reduce_type</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">msg_type</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pysigma/defs.html#Message.reduce_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysigma.defs.Message.reduce_type" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Return a ‘msg_type’ type reduced self message, where irrelevant components w.r.t. ‘msg_type’ is removed, and</dt><dd><p>the relevant components are retained and cloned.</p>
</dd>
</dl>
<p>Return self and do nothing if msg_type is self type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>msg_type</strong> – MessageType.Parameter or MessageType.Particles.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="pysigma.defs.Message.same_size_as">
<code class="sig-name descname">same_size_as</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">other</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pysigma/defs.html#Message.same_size_as"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysigma.defs.Message.same_size_as" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if self has the same shape as the other message. Return True if so.</p>
</dd></dl>

<dl class="py method">
<dt id="pysigma.defs.Message.size">
<code class="sig-name descname">size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pysigma/defs.html#Message.size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysigma.defs.Message.size" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Returns a tuple of the message’s shapes:</dt><dd><p>(sample_shape, batch_shape, param_shape, event_shape)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../utils/index.html" class="btn btn-neutral float-right" title="Utils" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="Graphical" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Jincheng Zhou, Yunzhe Wang, Volkan Ustun, Paul Rosenbloom

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>